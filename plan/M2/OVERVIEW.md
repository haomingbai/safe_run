# M2 阶段总览：挂载与路径安全强化

## 1. 阶段目标

在 M1 运行闭环基础上，强化 `mounts` 与路径校验，确保“默认拒绝 + 白名单前缀 + canonicalize + 组合约束”生效。

## 2. 交付代码

- `sr-policy`：挂载策略语义校验增强。
- `sr-compiler`：挂载转译与只读根约束增强。
- `sr-runner`：挂载应用与失败回滚。
- `tests/`：路径逃逸、符号链接绕过、危险组合回归测试。

## 3. 接口交付

- 复用并增强：`I-PL-001.mounts`（字段不变，语义增强）。
- 新增事件：`I-EV-001` 中的挂载决策事件。
- `I-RP-001` 新增挂载审计字段（additive）。

## 4. 架构边界

- 不引入网络能力（仍 `network=none`）。
- 所有挂载决策必须经过统一策略引擎，禁止绕过。

## 5. 验收标准

- 路径逃逸（`..`、symlink、非白名单路径）被稳定拦截。
- 风险组合（可写挂载 + 高权限执行）被拒绝并输出明确错误码。
- `run_report.json` 包含挂载决策证据。
